{% extends 'base.html.twig' %}

{% block title %}
    Weather Forecast
{% endblock %}

{% block body %}
    {# Header #}
    <div class="mb-12 text-center">
        <h1 class="mb-4 text-4xl font-light text-white md:text-5xl">
            Weather Forecast
        </h1>
        <p class="text-lg text-white/70">
            Beautiful weather data powered by Open-Meteo
        </p>
    </div>

    {# Search Bar #}
    <div class="flex justify-center mb-12">
        <div class="relative w-full max-w-md">
            {{ form_start(form, {'attr': {'data-turbo': 'false', 'novalidate': 'novalidate', 'class': 'relative' }}) }}
                <twig:ux:icon name="lucide:search" class="absolute w-5 h-5 transform -translate-y-1/2 left-4 top-1/2 text-white/60" />
                {{ form_widget(form.city) }}
                <div class="mt-3 text-sm text-center text-white/80">
                    <twig:ux:icon name="lucide:map-pin" class="inline w-4 h-4 mr-1" />
                    London, England, United Kingdom
                </div>
            {{ form_end(form) }}
        </div>
    </div>

    {# Content #}
    <div class="space-y-8">
        {# Current Weather #}
        <div class="p-8 border shadow-xl bg-white/10 backdrop-blur-md rounded-3xl border-white/20">
            <div class="flex items-center justify-between mb-8">
                <div>
                    <div class="mb-2 text-6xl font-light text-white">
                        18°C
                    </div>
                    <div class="text-lg text-white/80">
                        Partly cloudy
                    </div>
                    <div class="mt-1 text-sm text-white/60">
                        Feels like 14°C
                    </div>
                </div>
                <div class="flex-shrink-0">
                    <twig:ux:icon name="lucide:cloud" class="w-20 h-20 text-white/90" />
                </div>
            </div>

            <div class="grid grid-cols-2 gap-6">
                <div class="space-y-4">
                    <div class="flex items-center gap-3">
                        <twig:ux:icon name="lucide:sunrise" class="w-5 h-5 text-yellow-300" />
                        <div>
                            <div class="text-sm text-white/60">
                                Sunrise
                            </div>
                            <div class="font-medium text-white">
                                04:45
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center gap-3">
                        <twig:ux:icon name="lucide:sunset" class="w-5 h-5 text-orange-300" />
                        <div>
                            <div class="text-sm text-white/60">
                                Sunset
                            </div>
                            <div class="font-medium text-white">
                                21:13
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center gap-3">
                        <twig:ux:icon name="lucide:droplets" class="w-5 h-5 text-blue-300" />
                        <div>
                            <div class="text-sm text-white/60">
                                Humidity
                            </div>
                            <div class="font-medium text-white">
                                40%
                            </div>
                        </div>
                    </div>
                </div>

                <div class="space-y-4">
                    <div class="flex items-center gap-3">
                        <twig:ux:icon name="lucide:wind" class="w-5 h-5 text-gray-300" />
                        <div>
                            <div class="text-sm text-white/60">
                                Wind
                            </div>
                            <div class="font-medium text-white">
                                15 km/h
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center gap-3">
                        <twig:ux:icon name="lucide:eye" class="w-5 h-5 text-gray-300" />
                        <div>
                            <div class="text-sm text-white/60">
                                Cloud Cover
                            </div>
                            <div class="font-medium text-white">
                                41%
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center gap-3">
                        <twig:ux:icon name="lucide:gauge" class="w-5 h-5 text-gray-300" />
                        <div>
                            <div class="text-sm text-white/60">
                                Pressure
                            </div>
                            <div class="font-medium text-white">
                                1008 hPa
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {# 7-Day Forecast #}
        <div class="space-y-6">
            <h2 class="text-2xl font-light text-center text-white">
                7-Day Forecast
            </h2>
            <div class="grid grid-cols-2 gap-4 md:grid-cols-4 lg:grid-cols-7">
                {% for i in 1..7 %}
                    <div class="bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 transition-all duration-200 hover:bg-white/15 {#{isToday ? 'ring-2 ring-white/30' : ''}#}">
                        <div class="text-center">
                            <div class="mb-3 text-sm font-medium text-white/80">
                                Today
                            </div>

                            <div class="flex justify-center mb-4">
                                <twig:ux:icon name="lucide:cloud-rain" class="w-10 h-10 text-white/90" />
                            </div>

                            <div class="mb-4 space-y-2">
                                <div class="text-lg font-semibold text-white">
                                    19°
                                </div>
                                <div class="text-sm text-white/60">
                                    11°
                                </div>
                            </div>

                            <div class="space-y-2 text-xs">
                                <div class="flex items-center justify-center gap-1 text-white/60">
                                    <twig:ux:icon name="lucide:droplets" class="w-3 h-3" />
                                    <span>
                                        {{ (4 * 100) / 100 }}
                                        "
                                    </span>
                                </div>
                                <div class="flex items-center justify-center gap-1 text-white/60">
                                    <twig:ux:icon name="lucide:wind" class="w-3 h-3" />
                                    <span>
                                        20 km/h
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>

        {# Additional Info #}
        <div class="p-6 border bg-white/10 backdrop-blur-md rounded-3xl border-white/20">
            <h3 class="mb-4 text-xl font-light text-center text-white">
                Weather Details
            </h3>
            <div class="grid grid-cols-2 gap-6 text-center md:grid-cols-4">
                <div>
                    <div class="text-2xl font-semibold text-white">
                        6
                    </div>
                    <div class="text-sm text-white/60">
                        UV Index
                    </div>
                </div>
                <div>
                    <div class="text-2xl font-semibold text-white">
                        100%
                    </div>
                    <div class="text-sm text-white/60">
                        Rain Chance
                    </div>
                </div>
                <div>
                    <div class="text-2xl font-semibold text-white">
                        25
                    </div>
                    <div class="text-sm text-white/60">
                        Wind Gusts
                    </div>
                </div>
                <div>
                    <div class="text-2xl font-semibold text-white">
                        GMT+1
                    </div>
                    <div class="text-sm text-white/60">
                        Timezone
                    </div>
                </div>
            </div>
        </div>
    </div>

{# <div class="w-full max-w-md mb-4 overflow-hidden text-white bg-purple-800 border shadow-xl rounded-3xl">
    <h1 class="flex items-center justify-center mb-4 text-lg font-bold text-white">Weather Forecast</h1>
    <div class="flex items-center gap-2">
    {{ form_start(form, {'attr': {'data-turbo': 'false', 'novalidate': 'novalidate', 'class': 'mb-6 justify-around w-full'}}) }}
    <div class="flex gap-2 px-4">
    {{ form_widget(form.city) }}
    <button type="submit"
    class="w-20 gap-2 px-3 py-2 text-sm font-semibold text-indigo-600 transition-colors duration-150 bg-white border border-indigo-100 rounded-full shadow-sm hover:border-indigo-600 hover:bg-indigo-600 hover:text-white dark:border-transparent">
    <twig:ux:icon name="lucide:search"/>
    </button>
    </div>
    {{ form_end(form) }}
    </div>
    </div>
    <div class="w-full max-w-md overflow-hidden text-white bg-purple-800 border shadow-xl rounded-3xl" data-v0-t="card">
    <div class="p-6">
    <div class="mb-6 text-sm text-purple-200">viernes 6 de junio de 2025, 17:05</div>
    <div class="flex items-center justify-between mb-6">
    <div class="flex items-center gap-2">
    <div class="text-yellow-300">
    <twig:ux:icon name="lucide:sun" class="w-8 h-8"/>
    </div>
    <div class="text-4xl font-bold">8°C</div>
    </div>
    <div>
    <twig:ux:icon name="lucide:cloud" class="w-16 h-16 text-gray-200"/>
    </div>
    </div>
    <div class="mb-4 text-lg">New York, USA</div>
    <div class="flex justify-between mb-6">
    <div class="flex items-center gap-2">
    <twig:ux:icon name="lucide:sun" class="w-5 h-5 text-yellow-300"/>
    <span class="text-sm">6:15 am</span>
    </div>
    <div class="text-sm">11h 42m</div>
    <div class="flex items-center gap-2">
    <twig:ux:icon name="lucide:moon" class="w-5 h-5 text-yellow-100"/>
    <span class="text-sm">5:57 pm</span>
    </div>
    </div>
    <div class="flex items-center gap-3 p-4 mb-6 bg-purple-700 border rounded-lg shadow-sm text-card-foreground"
    data-v0-t="card">
    <twig:ux:icon name="lucide:cloud-rain" class="w-6 h-6 text-blue-200"/>
    <span>Rain 65%</span></div>
    <div class="flex justify-between mb-6 text-sm">
    <div>
    <div class="text-purple-200">Humidity</div>
    <div>68%</div>
    </div>
    <div>
    <div class="text-purple-200">Wind</div>
    <div>12 km/h</div>
    </div>
    </div>
    <div>
    <div class="mb-2 text-sm text-purple-200">Today</div>
    <div class="grid grid-cols-4 gap-2">
    <div
    class="flex flex-col items-center p-3 bg-purple-700 border rounded-lg shadow-sm text-card-foreground"
    data-v0-t="card">
    <div class="mb-1 text-xs text-purple-300">Today</div>
    <twig:ux:icon name="lucide:cloud" class="w-6 h-6 text-blue-200"/>
    <div class="mt-1 font-medium">8°</div>
    </div>
    <div
    class="flex flex-col items-center p-3 bg-purple-700 border rounded-lg shadow-sm text-card-foreground"
    data-v0-t="card">
    <div class="mb-1 text-xs text-purple-300">Tue</div>
    <twig:ux:icon name="lucide:cloud-rain" class="w-6 h-6 text-blue-200"/>
    <div class="mt-1 font-medium">7°</div>
    </div>
    <div
    class="flex flex-col items-center p-3 bg-purple-700 border rounded-lg shadow-sm text-card-foreground"
    data-v0-t="card">
    <div class="mb-1 text-xs text-purple-300">Wed</div>
    <twig:ux:icon name="lucide:cloud-rain" class="w-6 h-6 text-blue-200"/>
    <div class="mt-1 font-medium">6°</div>
    </div>
    <div
    class="flex flex-col items-center p-3 bg-purple-700 border rounded-lg shadow-sm text-card-foreground"
    data-v0-t="card">
    <div class="mb-1 text-xs text-purple-300">Thu</div>
    <twig:ux:icon name="lucide:sun" class="w-6 h-6 text-yellow-300"/>
    <div class="mt-1 font-medium">9°</div>
    </div>
    </div>
    </div>
    </div>
    </div>
#}
{#
    <div class="w-full max-w-md">
    {{ form_start(form, {'attr': {'data-turbo': 'false', 'novalidate': 'novalidate', 'class': 'mb-4'}}) }}
    <div class="relative">
    {{ form_row(form.city) }}
    {{ form_widget(form.submit) }}
    </div>
    {{ form_end(form) }}
#}
{# {% for type, messages in app.flashes %}
    {% for message in messages %}
    <div class="mb-4 p-4 rounded alert alert-{{ type }}">
    {{ message }}
    </div>
    {% endfor %}
    {% endfor %}

    {% if weatherData is defined and weatherData is not null %}
    <div class="mt-4 weather-data">
    <h2 class="mb-2 text-xl font-semibold">Weather in {{ city }}</h2>
    <p>Temperature: {{ weatherData.temperature }}°C</p>
    <p>Relative Humidity: {{ weatherData.relativeHumidity }}%</p>
    <p>Precipitation: {{ weatherData.precipitation }} mm</p>
    <p>Rain: {{ weatherData.rain }} mm</p>
    <p>Weather: {{ weatherData.time }}</p>
    </div>
    {% endif %}

    {% if error is defined and error is not null %}
    <div class="p-4 mt-4 mb-4 text-yellow-800 bg-yellow-200 rounded alert alert-warning">
    {{ error }}
    </div>
{% endif %} #}
{#
</div> #}
{% endblock %}
